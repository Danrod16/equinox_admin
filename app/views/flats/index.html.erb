<div class="wrapper-header">
  <h1> <%= t('.flats') %></h1>
  <div class="urbanist-form">
    <%= form_tag flats_path, method: :get do %>
      <%= text_field_tag :query,
        params[:query],
        class: "urbanist-form-field",
        placeholder: t('flats.find_flat')
      %>
      <%= submit_tag t('search'), class: "button-secondary" %>
    <% end %>
  </div>
  <div class="d-flex">
    <%= link_to t('flats.new_flat'), new_flat_path, class: "button-primary" %>
    <%= button_to flats_path("csv"), method: :get, class: "button-small btn-left" do %>
      <%= image_tag 'download.png' %>
    <% end %>
    <!-- Button trigger modal -->
    <button type="button" class="button-small btn-right" data-bs-toggle="modal" data-bs-target="#exampleModal">
      <%= image_tag 'upload.png' %>
    </button>
  </div>

  <!-- Modal -->
  <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content modal-custom">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Upload CSV file</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <%= form_tag import_flats_path, multipart: true, class:"modal-form" do %>
            <%= file_field_tag :file %>
            <%= submit_tag "Upload", class:"button-primary margin-top" %>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="card-wrapper">
  <%= render 'shared/cards.html.erb', { records: @flats } %>
</div>
